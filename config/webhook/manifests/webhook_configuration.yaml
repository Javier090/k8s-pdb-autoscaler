apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: eviction-webhook
webhooks:
  - name: eviction.mydomain.com
    clientConfig:
      service:
        name: eviction-webhook
        namespace: default
        path: /validate-eviction
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURwVENDQW8yZ0F3SUJBZ0lVS3ArZHBmUk9VWmE2U1NCZUtnbUhRUmlDTHlnd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0p6RWxNQ01HQTFVRUF3d2NaWFpwWTNScGIyNHRkMlZpYUc5dmF5NWtaV1poZFd4MExuTjJZekFlRncweQpOREE0TVRJd05UUTBOVFZhRncweU5UQTRNVEl3TlRRME5UVmFNQ2N4SlRBakJnTlZCQU1NSEdWMmFXTjBhVzl1CkxYZGxZbWh2YjJzdVpHVm1ZWFZzZEM1emRtTXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUsKQW9JQkFRRHFTMDBMODBDbzVnaCsxTVhsREtQRU04KzA2M05Gb2VRV25NNmQ4L3NEclVZWm8yTlVSM1NpM3oyRgpJbldRWlB3NTR1ZGFwQVg4S1ZvMjZKUGEycWk3bDFqYU5DYmZiME40RUZJa21UUXRNcHFQYWZjL0t0RzhVQyt2CjFMY1NicXYvd1ZyRlYvcHNTZXFVaGZnSFVSS3FmeTd2Z3hyOStEd3FwMG94dGNnWnZ6OFVGMXIvNW9nZ3ZNbzEKQXhTaFBKVUVNSGtjc0h6b2N4UFdHTW5ERlp1UHg4eFEyRzVRNnp0RldOb3dXZlJCZ2JySmo3cERjNlhmYmw3bApvUnMxdzA5VWNnWmJKSWNJQ1VlZVdTSmtOSlpOV2gxQ1JHZjl6OFNKM3c2YW1RUzFud0h1cTdQV3JIam5vSXB3CkN3WklQcGtPZ0s3WVVaUDZGWGlEUkQwb3lMMGxBZ01CQUFHamdjZ3dnY1V3RGdZRFZSMFBBUUgvQkFRREFnV2cKTUJNR0ExVWRKUVFNTUFvR0NDc0dBUVVGQndNQk1IOEdBMVVkRVFSNE1IYUNLbVYyYVdOMGFXOXVMWGRsWW1odgpiMnN1WkdWbVlYVnNkQzV6ZG1NdVkyeDFjM1JsY2k1c2IyTmhiSUljWlhacFkzUnBiMjR0ZDJWaWFHOXZheTVrClpXWmhkV3gwTG5OMlk0SVlaWFpwWTNScGIyNHRkMlZpYUc5dmF5NWtaV1poZFd4MGdoQmxkbWxqZEdsdmJpMTMKWldKb2IyOXJNQjBHQTFVZERnUVdCQlNDSFYrb0d5aDRWQkxEUXovK21QcW95bFlUUWpBTkJna3Foa2lHOXcwQgpBUXNGQUFPQ0FRRUFvMXBSQzZIUGxNQ3V5TDAwR0FJR1Y3c1laMzk1bCtPVnZoSmtMTlJTb0V6QU1NSW9MRUpCCmpxRmZkOGI5QjVTRkJJbUxDZXZRbmpySnBkZE5LZThqakJwUzhJVks1Q3BxeXpXc1hTSHY2SUZ2enJ5UC8zWlEKRFgvbXJZYk5GdnRaNGhHRjBRMStrOFlieXlqOGNjNWk4WHFhQnFFcmRYQml5TjVkclcwUUdNSENhOVp5T0ZmQwpmVXNRZmlqa3Bzb0FvWDJZaEQ0a0tpeWR4Q0NQQU1VdjdJWXVOZ1QweGQ2SkhkMlJIcWFNVnR1SGdIWW51Q0UyCjVLd25jY3RodDlPRWdpUU5XamZDVkZtR2FhZ2d4RjY0SHNWbFZjajd0dCsranhmZGZnc3BkMEZMTEw0aDdiaU4KMlRlT2NiM0V0MTg5bUU4V2FFRk1xUTQ5SXdoZ3hSNEV5dz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE"]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods/eviction"]
    admissionReviewVersions: ["v1"]
    sideEffects: None
    failurePolicy: Fail